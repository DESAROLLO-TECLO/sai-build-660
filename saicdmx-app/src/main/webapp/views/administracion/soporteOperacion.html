<html>
<head>
<meta charset="utf-8">
<title>Soporte Operativo</title>
</head>

<style>
	.test{
		color: red;
	}
</style>
<body>
	<section class="content-header">
		<h1>Soporte Operativo</h1>
		<ol class="breadcrumb">
			<li>
				<a><i class="{{breadCrumbs.icono}}"></i>{{breadCrumbs.modulo}}</a>
			</li>
			<li class="active">
				{{breadCrumbs.servicio}}
			</li>
		</ol>
	</section>

	<!-- Main content -->
	<section class="content">
		<form role="form" name="form" novalidate>
			<div class="row">
				<div class="col-md-8 col-md-offset-2">
					<div class="box box-danger">
						<div class="box-header with-border text-center">
							<h3 class="box-title">Seleccionar Tipo</h3>
							
							<div class="box-tools pull-right" ng-hide="viewHelpers.siguiente">
								<button id="x" type="button" class="btn btn-box-tool"
									data-widget="collapse">
									<i class="fa fa-minus"></i>
								</button>
							</div>
						</div>
						<div class="box-body">
							<!-- PARAMETROS DE BÚSQUEDA -->
							<div class="row">
								<div class="col-md-6">
									<div class="form-group">
										<label for="componente">Componente:</label>
										<div class="input-group date">
											<div class="input-group-addon">
												<i class="fa fa-file-text-o"></i>
											</div>
											<select class="form-control select2" name="componente" id="componente"
												ng-model="parametroBusqueda.componente" ng-options='option.valor as option.descripcion for option in componentes' ng-change="changeFilterComponentes()">
											</select>
										</div>
									</div>
								</div>
								
								<div class="col-md-6">
									<div class="form-group">
										<label for="concepto">Concepto:</label>
										<div class="input-group date">
											<div class="input-group-addon">
												<i class="fa fa-file-text-o"></i>
											</div>
											<select class="form-control select2" name="concepto" id="concepto" ng-disabled="!viewHelpers.viewConcepto"
												ng-model="parametroBusqueda.concepto" ng-options='option as option.conceptoNombre for option in conceptos' ng-change="changeFilterConceptos()">
											</select>
										</div>
									</div>
								</div>
							</div>
							
							<div class="row" ng-if="viewHelpers.viewDescripcion">
								<div class="col-md-12 ">
									<label><p align="justify" style="font-size:smaller">DESCRIPCIÓN: {{parametroBusqueda.concepto.descripcion}}</p></label>
								</div>
								
								<div class="col-md-6">
									<div class="form-group" ng-class="{'has-error': form.placa.$invalid && form.placa.$dirty}">
										<label for="concepto">Placa de Oficial que Autoriza:</label>
										<div class="input-group">
											<span class="input-group-addon">
												<i class="fa fa-star"></i>
											</span>
											<input type="text" name="placa" ng-model="parametroBusqueda.placaOficial" class="form-control" ng-required="true" ng-change="changePlaca()" autocomplete="off"/>
											<span class="input-group-btn">
												<button type="button"  class="btn btn-danger" ng-click="autorizaProceso()">Buscar</button>
											</span>
										</div>
										<div ng-if="form.placa.$invalid && form.placa.$dirty" ng-style="{color:'red'}">La placa de oficial es requerida</div>
									</div>
								</div>
								
								<div class="col-md-6" ng-if="viewHelpers.placaValida">
									<div class="form-group">
										<label for="concepto">Nombre de Oficial que Autoriza:</label>
										<div class="input-group">
											<span class="input-group-addon">
												<i class="fa fa-font"></i>
											</span>
											<input type="text" name="oficial" ng-model="getData.nombreOficial" class="form-control" readOnly/>
										</div>
									</div>
								</div>
								
								<div class="col-md-12 text-center" ng-if="viewHelpers.placaValida">
									<button type="button"  class="btn btn-danger" ng-click="nextStep()">Siguiente</button>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			
			<div class="row" ng-if="viewHelpers.siguiente">
				<div class="col-md-8 col-md-offset-2">
					<div class="box box-danger">
						<div class="box-header with-border text-center">
							<h3 class="box-title">Parámetros</h3>
							
							<div class="box-tools pull-right" ng-hide="viewHelpers.viewBusquedaEmbargo">
								<button id="y" type="button" class="btn btn-box-tool"
									data-widget="collapse">
									<i class="fa fa-minus"></i>
								</button>
							</div>
						</div>
						<div class="box-body">
							<div class="row">
  								<div class="col-md-12">
					  				<fieldset>
										<legend>Seguimiento</legend>
											<div class="table-responsive">   
					                       		<table class="table tblsnborder">
					                               <tr>
					                                   <td><label>Componente:</label></td>
					                                   <td>{{getData.componenteNombre}}</td>
					                                   <td><label>Concepto:</label></td>
					                                   <td>{{parametroBusqueda.concepto.conceptoNombre}}</td>
					                               </tr>
					                               <tr>
					                                   <td><label>Descripción:<label></td>
					                                   <td colspan="3"><p align="justify" style="font-size:smaller">{{parametroBusqueda.concepto.descripcion}}</p></td>
					                               </tr>
					                       		</table>
				                          	</div>
							  		</fieldset>

									<!-- INICIA COMPONENTE CORTE DE CAJA -->
						  			<fieldset ng-if="parametroBusqueda.concepto.conceptoId == 16">
										<legend>Parámetros</legend>
										<div class="col-md-6">
											<div class="form-group" ng-class="{'has-error': form.infraccion.$invalid && form.infraccion.$dirty}">
												<label for="infraccion">*Número de Infracción:</label>
												<div class="input-group">
													<div class="input-group-addon">
														<i class="fa fa-hashtag"></i>
													</div>
													<input type="text" id="infraccion" class="form-control " capitalize name="infraccion" ng-model="parametros.infraccionNum" autocomplete="off" maxlength="11" ng-required="true">
												</div>
												<div ng-if="form.infraccion.$invalid && form.infraccion.$dirty" ng-style="{color:'red'}">El número de infracción es requerido</div>
											</div>
										</div>
										<div class="col-md-6">
											<div class="form-group" ng-class="{'has-error': form.fSalida.$invalid && form.fSalida.$dirty}">
												<label for="fSalida">*Fecha Salida:</label>
												<div class="input-group date" datetimepicker options="dateTimePickerOptions" name="fSalida" ng-model="parametros.fechaHoraDate"  ng-required="true">
													<div class="input-group-addon">
														<i class="fa fa-calendar"></i>
													</div>
													<input type="text" id="fSalida" readonly class="form-control pull-right inputFecha" autocomplete="off"/>
												</div>
												<div ng-if="form.fSalida.$invalid && form.fSalida.$dirty" ng-style="{color:'red'}">La fecha salida es requerida</div>
											</div>
										</div>
							  		</fieldset>
							  		<fieldset ng-if="parametroBusqueda.concepto.conceptoId == 17">
							  			<legend>Parámetros</legend>
							  			<div class="row">
							  			<div class="col-md-4">
											<div class="form-group" ng-class="{'has-error': form.pOficial.$invalid && form.pOficial.$dirty}">
												<label for="pOficial">*Placa Oficial:</label>
												<div class="input-group" >
													<div class="input-group-addon">
														<i class="fa fa-star"></i>
													</div>
													<input type="text" id="pOficial" class="form-control" name="pOficial" ng-model="parametros.oficialPlaca" autocomplete="off" maxlength="12" ng-required="true">
												</div>
												<div ng-if="form.pOficial.$invalid	 && form.pOficial.$dirty" ng-style="{color:'red'}">La placa oficial es requerida</div>
											</div>
										</div>
										
										<div class="col-md-4">
											<div class="form-group" ng-class="{'has-error': form.fCorte.$invalid && form.fCorte.$dirty}">
												<label for="fCorte">*Fecha de Corte:</label>
												<div class="input-group" >
													<div class="input-group-addon">
														<i class="fa fa-calendar"></i>
													</div>
													<input type="text" id="fCorte" readonly class="form-control pull-right inputFecha"
														date-picker	idioma-dp="{{currentLanguage}}" name="fCorte" ng-model="parametros.fechaHora"
														autocomplete="off"
														ng-required="viewHelpers.validToExecute"/>
												</div>
												<div ng-if="form.fCorte.$invalid && form.fCorte.$dirty" ng-style="{color:'red'}">La fecha de corte es requerida</div>
												{{parametros.fechaHora}}
											</div>
										</div>
										
										<div class="col-md-4">
											<div class="form-group" ng-class="{'has-error': form.foInicial.$invalid && form.foInicial.$dirty}">
												<label for="foInicial">*Folio Inicial:</label>
												<div class="input-group date">
													<div class="input-group-addon">
														<i class="fa fa-hashtag"></i>
													</div>
													<input type="text" id="foInicial" class="form-control " capitalize name="foInicial" ng-model="parametros.folioInicial" maxlength="11" autocomplete="off" ng-required="validarCC" ng-change="cambiarValidarCC(parametros.folioInicial, 0)"/>
												</div>
												<div ng-if="form.foInicial.$invalid && form.foInicial.$dirty" ng-style="{color:'red'}">El folio inicial es requerido</div>
												<div ng-if="errorCC0" ng-style="{color:'red'}">El folio inicial debe ser numerico</div>
											</div>
										</div>
										</div>
										<div class="row">
										<div class="col-md-4">
											<div class="form-group" ng-class="{'has-error': form.foFinal.$invalid && form.foFinal.$dirty}">
												<label for="foFinal">*Folio Final:</label>
												<div class="input-group date">
													<div class="input-group-addon">
														<i class="fa fa-hashtag"></i>
													</div>
													<input type="text" id="foFinal" class="form-control " capitalize name="foFinal" ng-model="parametros.folioFinal" maxlength="11" autocomplete="off" ng-required="validarCC" ng-change="cambiarValidarCC(parametros.folioFinal, 1)"/>
												</div>
												<div ng-if="form.foFinal.$invalid && form.foFinal.$dirty" ng-style="{color:'red'}">El folio final es requerido</div>
												<div ng-if="errorCC1" ng-style="{color:'red'}">El folio final debe ser numerico</div>
											</div>
										</div>
										
										<div class="col-md-4">
											<div class="form-group" ng-class="{'has-error': form.rTotal.$invalid && form.rTotal.$dirty}">
												<label for="rTotal">*Recibo Total:</label>
												<div class="input-group date">
													<div class="input-group-addon">
														<i class="fa fa-hashtag"></i>
													</div>
													<input type="text" id="rTotal" class="form-control " capitalize name="rTotal" ng-model="parametros.reciboTotal" maxlength="11" autocomplete="off" ng-required="validarCC" ng-change="cambiarValidarCC(parametros.reciboTotal, 2)"/>
												</div>
												<div ng-if="form.rTotal.$invalid && form.rTotal.$dirty" ng-style="{color:'red'}">El recibo total es requerido</div>
												<div ng-if="errorCC2" ng-style="{color:'red'}">El recibo total debe ser numerico</div>
											</div>
										</div>
										
										<div class="col-md-4">
											<div class="form-group" ng-class="{'has-error': form.rUtilizados.$invalid && form.rUtilizados.$dirty}">
												<label for="rUtilizados">*Recibo Utilizados:</label>
												<div class="input-group date">
													<div class="input-group-addon">
														<i class="fa fa-hashtag"></i>
													</div>
													<input type="text" id="rUtilizados" class="form-control " capitalize name="rUtilizados" ng-model="parametros.reciboUtilizados" maxlength="11" autocomplete="off" ng-required="validarCC" ng-change="cambiarValidarCC(parametros.reciboUtilizados, 3)"/>
												</div>
												<div ng-if="form.rUtilizados.$invalid && form.rUtilizados.$dirty" ng-style="{color:'red'}">Recibo utilizados es requerido</div>
												<div ng-if="errorCC3" ng-style="{color:'red'}">Recibo utilizados debe ser numerico</div>
											</div>
										</div>
										</div>
										<div class="row">
										<div class="col-md-4">
											<div class="form-group" ng-class="{'has-error': form.rCnacelados.$invalid && form.rCnacelados.$dirty}">
												<label for="rCnacelados">*Recibo Cancelados:</label>
												<div class="input-group date">
													<div class="input-group-addon">
														<i class="fa fa-hashtag"></i>
													</div>
													<input type="text" id="rCnacelados" class="form-control " capitalize name="rCnacelados" ng-model="parametros.reciboCancelados" maxlength="11" autocomplete="off" ng-required="validarCC" ng-change="cambiarValidarCC(parametros.reciboCancelados, 4)"/>
												</div>
												<div ng-if="form.rCnacelados.$invalid && form.rCnacelados.$dirty" ng-style="{color:'red'}">Recibo cancelados es requerido</div>
												<div ng-if="errorCC4" ng-style="{color:'red'}">Recibo cancelados debe ser numerico</div>
											</div>
										</div>
										
										<div class="col-md-4">
											<div class="form-group" ng-class="{'has-error': form.oEfectuadas.$invalid && form.oEfectuadas.$dirty}">
												<label for="oEfectuadas">Operaciones Efectuadas:</label>
												<div class="input-group date">
													<div class="input-group-addon">
														<i class="fa fa-hashtag"></i>
													</div>
													<input type="text" id="oEfectuadas" class="form-control " capitalize name="oEfectuadas" ng-model="parametros.operacionEfectuada" maxlength="11" autocomplete="off" ng-required="false" ng-change="cambiarValidarCC(parametros.operacionEfectuada, 5)"/><!-- ng-required="viewHelpers.validToExecute" -->
												</div>
												<div ng-if="form.oEfectuadas.$invalid && form.oEfectuadas.$dirty" ng-style="{color:'red'}">Operaciones efetuadas es requerido</div>
												<div ng-if="errorCC5" ng-style="{color:'red'}">Operaciones efetuadas debe ser numerico</div>
											</div>
										</div>
										</div>
							  		</fieldset>
							  		<!-- TERMINA COMPONENTE CORTE DE CAJA -->
							  		
							  		<!-- INICIA COMPONENTE INGRESOS -->
							  		<fieldset ng-if="parametroBusqueda.concepto.conceptoId == 12">
							  			<legend>Parámetros</legend>
							  			<div class="col-md-6">
											<div class="form-group" ng-class="{'has-error': form.busca_infrac_num_detalle.$invalid && form.busca_infrac_num_detalle.$dirty}">
												<label for="busca_infrac_num_detalle">Número de Infracción:</label>
												<div class="input-group date">
													<span class="input-group-addon">
														<i class="fa fa-hashtag"></i>
													</span>
													<input type="text" id="busca_infrac_num_detalle" class="form-control " capitalize name="busca_infrac_num_detalle" ng-model="parametroBusqueda.infraccBus" autocomplete="off" maxlength="11" ng-required="viewHelpers.validToExecute" ng-change="changeInfraccion()">
													<span class="input-group-btn">
														<button class="btn btn-danger" ng-click="buscaIngresoDetallePorInfraccion()">Buscar</button>
													</span>
												</div>
												<div ng-if="form.busca_infrac_num_detalle.$invalid && form.busca_infrac_num_detalle.$dirty" ng-style="{color:'red'}">El número de infracción es requerido</div>
											</div>
										</div>
										<div class="col-md-6">
											<div class="form-group">
												<div class="input-group" ng-if="viewHelpers.searchclick">
													<p class="pInfo"> <span class="spanInfo">Depósito: {{getData.ingreso.DEPOSITO}}</span>
														<span class="spanInfo">Resguardo: {{getData.ingreso.RESGUARDO}}</span>
													</p>
													<p class="pInfo"> <span class="spanInfo">Fecha Ingreso: {{getData.ingreso.FECHA | formatDateTime}}</span>
														<span class="spanInfo">Fecha Salida: {{getData.ingreso.FECHASALIDA}}</span>
													</p>
												</div>
												
												<div class="input-group" ng-if="getData.ingreso.mensaje">
													<p class="pInfo"> <span class="spanInfo">{{getData.ingreso.mensaje}}</span>
													</p>
												</div>
											</div>
										</div>
										<div class="col-md-6" ng-if="viewHelpers.searchclick">
											<div class="form-group" ng-class="{'has-error': form.infrac_num_detalle.$invalid && form.infrac_num_detalle.$dirty}">
												<label for="infrac_num_detalle">Número de Infracción:</label>
												<div class="input-group">
													<span class="input-group-addon">
														<i class="fa fa-hashtag"></i>
													</span>
													<input type="text" id="infrac_num_detalle" class="form-control " capitalize name="infrac_num_detalle" ng-model="parametros.infraccionNum" autocomplete="off" maxlength="11" ng-required="true">
												</div>
												<div ng-if="form.infrac_num_detalle.$invalid && form.infrac_num_detalle.$dirty" ng-style="{color:'red'}">El número de infracción es requerido</div>
											</div>
										</div>
										<div class="col-md-6" ng-if="viewHelpers.searchclick">
											<div class="form-group" ng-class="{'has-error': form.txtresguardo.$invalid && form.txtresguardo.$dirty}">
												<label for="txtresguardo">Número de Resguardo:</label>
												<div class="input-group">
													<span class="input-group-addon">
														<i class="fa fa-hashtag"></i>
													</span>
													<input type="text" id="txtresguardo" class="form-control " capitalize name="txtresguardo" ng-model="parametros.resguardo" autocomplete="off" maxlength="18" ng-required="true">
												</div>
												<div ng-if="form.txtresguardo.$invalid && form.txtresguardo.$dirty" ng-style="{color:'red'}">El número de resguardo es requerido</div>
											</div>
										</div>
							  		</fieldset>
							  		
							  		<fieldset ng-if="parametroBusqueda.concepto.conceptoId == 13">
										<legend>Parámetros</legend>
										<div class="col-md-6">
											<div class="form-group" ng-class="{'has-error': form.busca_infrac_num.$invalid && form.busca_infrac_num.$dirty}">
												<label for="busca_infrac_num">Número de Infracción:</label>
												<div class="input-group date">
													<span class="input-group-addon">
														<i class="fa fa-hashtag"></i>
													</span>
													<input type="text" id="busca_infrac_num" class="form-control " capitalize name="busca_infrac_num" ng-model="parametros.infraccionNum" autocomplete="off" maxlength="11" ng-required="viewHelpers.validToExecute" ng-change="changeInfraccion()">
													<span class="input-group-btn">
														<button type="button"  class="btn btn-danger" ng-click="buscaIngresoPorInfraccion()">Buscar</button>
													</span>
												</div>
												<div ng-if="form.busca_infrac_num.$invalid && form.busca_infrac_num.$dirty" ng-style="{color:'red'}">El número de infracción es requerido</div>
											</div>
										</div>
										<div class="col-md-6" ng-if="viewHelpers.searchclick">
											<div class="form-group">
												<div class="input-group">
													<span style="color: #00a1ff !important">{{getData.ingreso.mensaje}}</span>
												</div>
											</div>
										</div>
							  		</fieldset>
							  		
							  		<fieldset ng-if="parametroBusqueda.concepto.conceptoId == 14">
										<legend>Parámetros</legend>
										<div class="col-md-6">
											<div class="form-group" ng-class="{'has-error': form.busca_placa.$invalid && form.busca_placa.$dirty}">
												<label for="busca_placa">Placa Vehículo:</label>
												<div class="input-group">
													<span class="input-group-addon">
														<i class="fa fa-hashtag"></i>
													</span>
													<input type="text" id="busca_placa" class="form-control " capitalize name="busca_placa" ng-model="parametros.infraccionPlaca" autocomplete="off" maxlength="12" ng-required="viewHelpers.validToExecute" ng-change="changePlacaVehiculo()">
													<span class="input-group-btn">
														<button type="button" class="btn btn-danger" ng-click="buscaEmbargoPorPlaca()">Buscar</button>
													</span>
												</div>
												<div ng-if="form.busca_placa.$invalid && form.busca_placa.$dirty" ng-style="{color:'red'}">La placa vehículo es requerida</div>
											</div>
											
											<div class="form-group" ng-class="{'has-error': form.txtnci.$invalid && form.txtnci.$dirty}" ng-if="viewHelpers.searchclick">
												<label for="txtnci">NCI:</label>
												<div class="input-group">
													<span class="input-group-addon">
														<i class="fa fa-hashtag"></i>
													</span>
													<input type="text" id="txtnci" class="form-control " capitalize name="txtnci" ng-model="parametros.nciNuevo" autocomplete="off" maxlength="18" ng-required="true">
												</div>
												<div ng-if="form.txtnci.$invalid && form.txtnci.$dirty" ng-style="{color:'red'}">El nci es requerido</div>
											</div>
											
											<div class="form-group" ng-class="{'has-error': form.txtembargoinfracc.$invalid && form.txtembargoinfracc.$dirty}" ng-if="viewHelpers.searchclick">
												<label for="txtembargoinfracc">Número de Infracción:</label>
												<div class="input-group">
													<span class="input-group-addon">
														<i class="fa fa-hashtag"></i>
													</span>
													<input type="text" id="txtembargoinfracc" class="form-control " capitalize name="txtembargoinfracc" ng-model="parametros.infraccionNum" autocomplete="off" maxlength="11" ng-required="true">
												</div>
												<div ng-if="form.txtembargoinfracc.$invalid && form.txtembargoinfracc.$dirty" ng-style="{color:'red'}">El número de infracción es requerido</div>
											</div>
											
											<div class="form-group" ng-class="{'has-error': form.txtembargooficio.$invalid && form.txtembargooficio.$dirty}" ng-if="viewHelpers.searchclick">
												<label for="txtembargooficio">Número de Oficio:</label>
												<div class="input-group">
													<span class="input-group-addon">
														<i class="fa fa-hashtag"></i>
													</span>
													<input type="text" id="txtembargooficio" class="form-control " capitalize name="txtembargooficio" ng-model="parametros.numOficio" autocomplete="off" maxlength="25" ng-required="true">
												</div>
												<div ng-if="form.txtembargooficio.$invalid && form.txtembargooficio.$dirty" ng-style="{color:'red'}">El número de oficio es requerido</div>
											</div>
											
											<div class="form-group" ng-if="viewHelpers.searchclick">
												<label for="slcausaingreso">Causa:</label>
												<div class="input-group">
													<span class="input-group-addon">
														<i class="fa fa-hashtag"></i>
													</span>
													<select class="form-control select2" name="slcausaingreso" id="slcausaingreso"
														ng-model="parametros.lstCausaIngreso" ng-options='option.idCausaIngreso as option.nombreCausaIngreso for option in causaIngresos'>
													</select>
												</div>
											</div>
											
											<div class="form-group" ng-if="viewHelpers.searchclick">
												<label for="sltipoingreso">Tipo Ingreso:</label>
												<div class="input-group">
													<span class="input-group-addon">
														<i class="fa fa-hashtag"></i>
													</span>
													<select class="form-control select2" name="sltipoingreso" id="sltipoingreso"
														ng-model="parametros.lstTipoIngreso" ng-options='option.tIngrId as option.tIngrNombre for option in tipoIngreso'>
													</select>
												</div>
											</div>
										</div>
										
										<div class="col-md-6">
											<div class="form-group">
												<div class="input-group" ng-if="viewHelpers.searchclick">
													<label>Infracciones Encontradas:</label>
													<p class="pInfo" ng-repeat="embargo in getData.embargos"> 
														<span class="spanInfo">{{embargo.infracControl}}</span>
														<span class="spanInfo">{{embargo.infraccion}}</span>
														<span class="spanInfo">{{embargo.fechaHora}}</span>
													</p>	
												</div>
												
												<div class="input-group" ng-if="getData.embargos.mensaje">
													<span class="spanInfo">{{getData.embargos.mensaje}}</span>
												</div>
											</div>
										</div>
									</fieldset>
									
									<fieldset ng-if="parametroBusqueda.concepto.conceptoId == 15">
										<legend>Parámetros</legend>
											<div class="col-md-6">
												<div class="form-group" ng-class="{'has-error': form.noInfrauOfi.$invalid && form.noInfrauOfi.$dirty}">
													<label for="noInfrauOfi">Número de Infracción/No. Oficio a Modificar:</label>
													<div class="input-group">
														<span class="input-group-addon">
															<i class="fa fa-hashtag"></i>
														</span>
														<input type="text" id="noInfrauOfi" class="form-control " capitalize name="noInfrauOfi" ng-model="parametros.infraccionNum" autocomplete="off" maxlength="11" ng-required="true">
													</div>
													<div ng-if="form.noInfrauOfi.$invalid && form.noInfrauOfi.$dirty" ng-style="{color:'red'}">El número de infracción/no. oficio es requerido</div>
												</div>
											</div>
											
											<div class="col-md-6">
												<div class="form-group" ng-class="{'has-error': form.nuevoOficio.$invalid && form.nuevoOficio.$dirty}">
													<label for="nuevoOficio">No. Oficio Nuevo:</label>
													<div class="input-group">
														<span class="input-group-addon">
															<i class="fa fa-hashtag"></i>
														</span>
														<input type="text" id="nuevoOficio" class="form-control " capitalize name="nuevoOficio" ng-model="parametros.numOficio" autocomplete="off" maxlength="25" ng-required="true">
													</div>
													<div ng-if="form.nuevoOficio.$invalid && form.nuevoOficio.$dirty" ng-style="{color:'red'}">El no. oficio es requerido</div>
												</div>
											</div>
									</fieldset>
							  		<!-- TERMINA COMPONENTE INGRESOS -->
							  		
							  		<!-- INICIA COMPONENTE PAGOS -->
							  		<fieldset ng-if="parametroBusqueda.concepto.conceptoId == 18">
							  			<legend>Parámetros</legend>
							  			<div class="col-md-6">
											<div class="form-group" ng-class="{'has-error': form.pagoInfraccion.$invalid && form.pagoInfraccion.$dirty}">
												<label for="pagoInfraccion">Número de Infracción:</label>
												<div class="input-group">
													<span class="input-group-addon">
														<i class="fa fa-hashtag"></i>
													</span>
													<input type="text" id="pagoInfraccion" class="form-control " capitalize name="pagoInfraccion" ng-model="parametros.infraccionNum" autocomplete="off" maxlength="11" ng-required="true">
												</div>
												<div ng-if="form.pagoInfraccion.$invalid && form.pagoInfraccion.$dirty" ng-style="{color:'red'}">El número de infracción es requerido</div>
											</div>
										</div>
							  		</fieldset>
							  		<!-- TERMINA COMPONENTE PAGOS -->
							  		
							  		<!-- INICIA COMPONENTE INFRACCIONES -->
							  		<fieldset  ng-if="parametroBusqueda.concepto.conceptoId == 1 || 
							  						  parametroBusqueda.concepto.conceptoId == 4 || 
							  						  parametroBusqueda.concepto.conceptoId == 5 ||
							  						  parametroBusqueda.concepto.conceptoId == 2 || 
							  						  parametroBusqueda.concepto.conceptoId == 3">
							  			<legend>Parámetros</legend>
							  			<div class="col-md-6">
											<div class="form-group" ng-class="{'has-error': form.infraccionInfraNum.$invalid && form.infraccionInfraNum.$dirty}">
												<label for="infraccionInfraNum">Número de Infracción:</label>
												<div class="input-group">
													<span class="input-group-addon">
														<i class="fa fa-hashtag"></i>
													</span>
													<input type="text" id="infraccionInfraNum" class="form-control " capitalize name="infraccionInfraNum" ng-model="parametros.infraccionNum" autocomplete="off" maxlength="11" ng-required="true">
												</div>
												<div ng-if="form.infraccionInfraNum.$invalid && form.infraccionInfraNum.$dirty" ng-style="{color:'red'}">El número de infracción es requerido</div>
											</div>
										</div>
							  		</fieldset>
							  		
							  		<fieldset ng-if="parametroBusqueda.concepto.conceptoId == 6">
							  			<legend>Parámetros</legend>
							  			<div class="col-md-6">
											<div class="form-group" ng-class="{'has-error': form.infracNumPreI.$invalid && form.infracNumPreI.$dirty}">
												<label for="infracNumPreI">Número de Infracción:</label>
												<div class="input-group">
													<span class="input-group-addon">
														<i class="fa fa-hashtag"></i>
													</span>
													<input type="text" id="infracNumPreI" class="form-control " capitalize name="infracNumPreI" ng-model="parametros.infraccionNum" autocomplete="off" maxlength="11" ng-required="true">
												</div>
												<div ng-if="form.infracNumPreI.$invalid && form.infracNumPreI.$dirty" ng-style="{color:'red'}">El número de infracción es requerido</div>
											</div>
										</div>
										<div class="col-md-6">
											<div class="form-group" ng-class="{'has-error': form.infraccionPreImpresa.$invalid && form.infraccionPreImpresa.$dirty}">
												<label for="infraccionPreImpresa">Infracción Preimpresa:</label>
												<div class="input-group">
													<span class="input-group-addon">
														<i class="fa fa-hashtag"></i>
													</span>
													<input type="text" id="infraccionPreImpresa" class="form-control " capitalize name="infraccionPreImpresa" ng-model="parametros.infraccionPreImpresa" autocomplete="off" maxlength="18" ng-required="true">
												</div>
												<div ng-if="form.infraccionPreImpresa.$invalid && form.infraccionPreImpresa.$dirty" ng-style="{color:'red'}">El infracción preimpresa es requerida</div>
											</div>
										</div>
							  		</fieldset>
							  		
							  		<fieldset ng-if="parametroBusqueda.concepto.conceptoId == 7">
							  			<legend>Parámetros</legend>
							  			<div class="col-md-6">
											<div class="form-group" ng-class="{'has-error': form.infraccionNum.$invalid && form.infraccionNum.$dirty}">
												<label for="infraccionNum">Número de Infracción:</label>
												<div class="input-group">
													<span class="input-group-addon">
														<i class="fa fa-hashtag"></i>
													</span>
													<input type="text" id="infraccionNum" class="form-control " capitalize name="infraccionNum" ng-model="parametros.infraccionNum" autocomplete="off" maxlength="11" ng-required="true">
												</div>
												<div ng-if="form.infraccionNum.$invalid && form.infraccionNum.$dirty" ng-style="{color:'red'}">El número de infracción es requerido</div>
											</div>
										</div>
										
										<div class="col-md-6">
											<div class="form-group" ng-class="{'has-error': form.oficioNum.$invalid && form.oficioNum.$dirty}">
												<label for="oficioNum">Número de Oficio:</label>
												<div class="input-group">
													<span class="input-group-addon">
														<i class="fa fa-hashtag"></i>
													</span>
													<input type="text" id="oficioNum" class="form-control " capitalize name="oficioNum" ng-model="parametros.numOficio" autocomplete="off" maxlength="30" ng-required="true">
												</div>
												<div ng-if="form.oficioNum.$invalid && form.oficioNum.$dirty" ng-style="{color:'red'}">El número de oficio es requerido</div>
											</div>
										</div>
							  		</fieldset>
							  		
							  		<fieldset ng-if="parametroBusqueda.concepto.conceptoId == 8">
							  			<legend>Parámetros</legend>
							  			<div class="col-md-6">
											<div class="form-group" ng-class="{'has-error': form.infracNum.$invalid && form.infracNum.$dirty}">
												<label for="infracNum">Número de Infracción:</label>
												<div class="input-group">
													<span class="input-group-addon">
														<i class="fa fa-hashtag"></i>
													</span>
													<input type="text" id="infracNum" class="form-control " capitalize name="infracNum" ng-model="parametros.infraccionNum" autocomplete="off" maxlength="11" ng-required="viewHelpers.validToExecute" ng-change="changeInfraccion()">
													<span class="input-group-btn">
														<button class="btn btn-danger" ng-click="buscaPagoDeInfraccion()">Buscar</button>
													</span>
												</div>
												
												<div class="input-group">
													<span class="spanInfo">{{getData.pagos.mensaje}}</span>
												</div>
												<div ng-if="form.infracNum.$invalid && form.infracNum.$dirty" ng-style="{color:'red'}">El número de infracción es requerido</div>
											</div>
										</div>
										<div class="col-md-6">
											<div class="form-group" ng-class="{'has-error': form.oficioNum.$invalid && form.oficioNum.$dirty}">
												<label for="oficioNum">Número de Oficio:</label>
												<div class="input-group">
													<span class="input-group-addon">
														<i class="fa fa-hashtag"></i>
													</span>
													<input type="text" id="oficioNum" class="form-control " capitalize name="oficioNum" ng-model="parametros.numOficio" autocomplete="off" maxlength="30" ng-required="viewHelpers.searchclick">
												</div>
												<div ng-if="form.oficioNum.$invalid && form.oficioNum.$dirty" ng-style="{color:'red'}">El número de oficio es requerido</div>
											</div>
										</div>
							  		</fieldset>
							  		
							  		<fieldset ng-if="parametroBusqueda.concepto.conceptoId == 9">
							  			<legend>Parámetros</legend>
							  			<div class="row">
							  			<div class="col-md-6">
											<div class="form-group" ng-class="{'has-error': form.infracNum.$invalid && form.infracNum.$dirty}">
												<label for="infracNum">Infracción Web:</label>
												<div class="input-group">
													<span class="input-group-addon">
														<i class="fa fa-hashtag"></i>
													</span>
													<input type="text" id="infracNum" class="form-control " capitalize name="infracNum" ng-model="parametros.infraccionNum" autocomplete="off" maxlength="11" ng-required="true">
												</div>
												<div ng-if="form.infracNum.$invalid && form.infracNum.$dirty" ng-style="{color:'red'}">El número de infracción es requerido</div>
											</div>
										</div>
										<div class="col-md-6">
											<div class="form-group" ng-class="{'has-error': form.infracHH.$invalid && form.infracHH.$dirty}">
												<label for="infracHH">Infracción HandHeld:</label>
												<div class="input-group">
													<span class="input-group-addon">
														<i class="fa fa-hashtag"></i>
													</span>
													<input type="text" id="infracHH" class="form-control " capitalize name="infracHH" ng-model="parametros.infraccionNumNueva" autocomplete="off" maxlength="11" ng-required="true">
												</div>
												<div ng-if="form.infracHH.$invalid && form.infracHH.$dirty" ng-style="{color:'red'}">La infracción handheld es requerida</div>
											</div>
										</div>
										</div>
										<div class="row">
										<div class="col-md-6">
											<div class="form-group" ng-class="{'has-error': form.nciHH.$invalid && form.nciHH.$dirty}">
												<label for="nciHH">NCI HandHeld:</label>
												<div class="input-group">
													<span class="input-group-addon">
														<i class="fa fa-hashtag"></i>
													</span>
													<input type="text" id="nciHH" class="form-control " capitalize name="nciHH" ng-model="parametros.nciNuevo" autocomplete="off" maxlength="18" ng-required="true">
												</div>
												<div ng-if="form.nciHH.$invalid && form.nciHH.$dirty" ng-style="{color:'red'}">La nci handheld es requerida</div>
											</div>
										</div>
										<div class="col-md-6">
											<div class="form-group" ng-class="{'has-error': form.fechaHH.$invalid && form.fechaHH.$dirty}">
												<label for="fechaHH">Fecha HandHeld:</label>
												<div class="input-group date" datetimepicker options="dateTimePickerOptions" name="fechaHH" ng-model="parametros.fechaHoraDate" ng-required="true">
													<div class="input-group-addon">
														<i class="fa fa-calendar"></i>
													</div>
													<input type="text" id="fechaHH" readonly class="form-control pull-right inputFecha" autocomplete="off"/>
												</div>
												<div ng-if="form.fechaHH.$invalid && form.fechaHH.$dirty" ng-style="{color:'red'}">La fecha handheld es requerida</div>
											</div>
										</div>
										</div>
						  			</fieldset>
						  			
						  			<fieldset ng-if="parametroBusqueda.concepto.conceptoId == 10">
							  			<legend>Parámetros</legend>
							  			<div class="col-md-6">
											<div class="form-group" ng-class="{'has-error': form.infracNum.$invalid && form.infracNum.$dirty}">
												<label for="infracNum">Número de Infracción:</label>
												<div class="input-group">
													<span class="input-group-addon">
														<i class="fa fa-hashtag"></i>
													</span>
													<input type="text" id="infracNum" class="form-control " capitalize name="infracNum" ng-model="parametros.infraccionNum" autocomplete="off" maxlength="11" ng-required="true">
												</div>
												<div ng-if="form.infracNum.$invalid && form.infracNum.$dirty" ng-style="{color:'red'}">El número de infracción es requerido</div>
											</div>
										</div>
							  			<div class="col-md-6">
											<div class="form-group" ng-class="{'has-error': form.nuevaFecha.$invalid && form.nuevaFecha.$dirty}">
												<label for="nuevaFecha">Nueva Fecha:</label>
												<div class="input-group date"  datetimepicker options="dateTimePickerOptions" ng-model="parametros.fechaHoraDate" name="nuevaFecha"  ng-required="true">
													<div class="input-group-addon">
														<i class="fa fa-calendar"></i>
													</div>
													<input type="text" id="nuevaFecha" readonly class="form-control pull-right inputFecha"  
													autocomplete="off"/>
<!-- 													<input type="text" id="nuevaFecha" readonly class="form-control pull-right mydatepicker inputFecha" name="nuevaFecha" ng-model="parametros.fechaHoraDate" ng-required="true" autocomplete="off"/> -->
												</div>
												<div ng-if="form.nuevaFecha.$invalid && form.nuevaFecha.$dirty" ng-style="{color:'red'}">La nueva fecha es requerida</div>
											</div>
										</div>
						  			</fieldset>
						  			
						  			<fieldset ng-if="parametroBusqueda.concepto.conceptoId == 11">
							  			<legend>Parámetros</legend>
							  			<div class="col-md-6">
											<div class="form-group" ng-class="{'has-error': form.infracNum.$invalid && form.infracNum.$dirty}">
												<label for="infracNum">Número de Infracción:</label>
												<div class="input-group">
													<span class="input-group-addon">
														<i class="fa fa-hashtag"></i>
													</span>
													<input type="text" id="infracNum" class="form-control " capitalize name="infracNum" ng-model="parametros.infraccionNum" autocomplete="off" maxlength="11" ng-required="viewHelpers.validToExecute" ng-change="changeInfraccion()">
													<span class="input-group-btn">
														<button class="btn btn-danger" ng-click="buscaPagoDeInfraccion()">Buscar</button>
													</span>
												</div>
												<div class="input-group">
													<span class="spanInfo">{{getData.pagos.mensaje}}</span> 
<!-- 													ng-if="getData.pagos.mensaje" -->
												</div>
												<span ng-if="form.infracNum.$invalid && form.infracNum.$dirty" ng-style="{color:'red'}">El número de infracción es requerido</span>
											</div>
										</div>
										<div class="col-md-6">
											<div class="form-group" ng-class="{'has-error': form.placaNueva.$invalid && form.placaNueva.$dirty}">
												<label for="placaNueva">Placa Nueva:</label>
												<div class="input-group">
													<span class="input-group-addon">
														<i class="fa fa-hashtag"></i>
													</span>
													<input type="text" id="placaNueva" class="form-control " capitalize name="placaNueva" ng-model="parametros.infraccionPlaca" autocomplete="off" maxlength="10" ng-required="viewHelpers.searchclick">
												</div>
												<div ng-if="form.placaNueva.$invalid && form.placaNueva.$dirty" ng-style="{color:'red'}">La placa nueva es requerida</div>
											</div>
										</div>
							  		</fieldset>
							  		<!-- TERMINA COMPONENTE INFRACCIONES -->
							  		
							  		<!-- TERMINA COMPONENTE USUARIOS -->
							  		<fieldset ng-if="parametroBusqueda.concepto.conceptoId == 19">
							  			<legend>Parámetros</legend>
							  			<div class="col-xs-12">
							  				<label>
							  					<p align="justify" style="font-size:smaller">
						  							SE ASIGNARÁN NUEVOS CONSECUTIVOS
										            A LOS TIPOS DE FOLIOS QUE CUENTEN CON MENOS DE 10 FOLIOS DISPONIBLES.
										            EN EL CASO DE LOS FOLIOS DE PAGO, CORTES DE CAJA Y TRANSACCIONES,
										            SE REQUIERE TAMBIEN QUE EL USUARIO CUENTE CON DERECHO DE COBRO
							  					</p>
						  					</label>
							  			</div>
							  			
							  			<div class="row">
								  			<div class="col-xs-12 col-md-6">
								  				<div class="form-group" ng-class="{'has-error': form.placaUsuario.$invalid && form.placaUsuario.$dirty}">
													<label for="placaUsuario">Placa Usuario:</label>
													<div class="input-group">
														<input type="text" id="placaUsuario" class="form-control" name="placaUsuario" ng-model="parametroBusqueda.searchPlaca" autocomplete="off" maxlength="10" ng-required="viewHelpers.validToExecute" ng-change="changePlacaUsuario()">
														<span class="input-group-btn">
															<button class="btn btn-danger" ng-click="buscaUsuarioHH()">Buscar</button>
														</span>
													</div>
													<div ng-if="form.placaUsuario.$invalid && form.placaUsuario.$dirty" ng-style="{color:'red'}">La placa usuario es requerida</div>
												</div>
								  			</div>
								  			
								  			<div class="col-xs-12 col-md-6 text-center">
								  				<span class="spanInfo" ng-if="viewHelpers.errorToSearch.message">{{viewHelpers.errorToSearch.message}}</span>
								  			</div>
							  			</div>
							  			
							  			<div class="row" ng-if="getData.listFolios">
							  				<div class="col-xs-12">
							  					<div class="table-responsive">
							  						<table class="table table-striped table-hover">
							  							<thead>
								  							<tr>
								  								<th class="center">TIPO DE FOLIO</th>
								  								<th class="center">CANTIDAD</th>
								  							</tr>
							  							</thead>
							  							<tbody>
							  								<tr>
							  									<td class="center">INFRACCIÓN</td>
							  									<td ng-class="{'test': getData.listFolios.I < 10}" class="center">{{getData.listFolios.I}}</td>
							  								</tr>
							  								<tr>	
							  									<td class="center">ARRASTRE</td>
							  									<td ng-class="{'test': getData.listFolios.A < 10}" class="center">{{getData.listFolios.A}}</td>
							  								</tr>
							  									<td class="center">PLACA</td>
							  									<td ng-class="{'test': getData.listFolios.P < 10}" class="center">{{getData.listFolios.P}}</td>
							  								<tr>
							  									<td class="center">PAGO</td>
							  									<td ng-class="{'test': getData.listFolios.O < 10}" class="center">{{getData.listFolios.O}}</td>
							  								</tr>
							  								<tr>
							  									<td class="center">TRANSACCIÓN</td>
							  									<td ng-class="{'test': getData.listFolios.T < 10}" class="center">{{getData.listFolios.T}}</td>
							  								</tr>
							  								<tr>
							  									<td class="center">CORTE DE CAJA</td>
							  									<td ng-class="{'test': getData.listFolios.C < 10}" class="center">{{getData.listFolios.C}}</td>
							  								<tr>
							  							</tbody>
							  						</table>
							  					</div>
							  				</div>
							  			</div>
							  		</fieldset>
							  		<!-- TERMINA COMPONENTE USUARIOS -->
					  			</div>
					  		
					  			<div class="col-xs-4 text-center" ng-if="parametroBusqueda.concepto.conceptoId != 19">
			        				<button class="btn btn-danger" ng-click="buscarEmbargo()">Busca embargo</button>
			        			</div>
			        			<div ng-class="(parametroBusqueda.concepto.conceptoId != 19) ? ['col-xs-4', 'text-center'] : ['col-xs-6', 'text-center']">
			 						<button class="btn btn-danger" ng-click="cancelar()">Cancelar</button>
		 						</div>
		 						<div ng-class="(parametroBusqueda.concepto.conceptoId != 19) ? ['col-xs-4', 'text-center'] : ['col-xs-6', 'text-center']">
			 						<button class="btn btn-danger" ng-click="ejecutar()">Ejecutar</button>
			  					</div>
					  		</div>
						</div>
					</div>
				</div>
			</div>	
		</form>
		
		<form role="form" name="form2" novalidate>
			<div class="row" ng-if="viewHelpers.viewBusquedaEmbargo">
				<div class="col-md-8 col-md-offset-2">
					<div class="box box-danger">
						<div class="box-header with-border text-center">
							<h3 class="box-title">Búsqueda</h3>
						</div>
					
						<div class="box-body">
							<div class="row">
								<div class="col-md-4 col-md-offset-2">
									<div class="form-group">
										<div class="input-group">
											<span class="input-group-addon">
												<i class="fa fa-list-ul" aria-hidden="true"></i>
											</span>
											<select ng-model="parametroBusqueda.tipoBusqueda" class="form-control select2" style="width: 100%;" 
													name="tipoBusqueda" id="tipoBusqueda"
													ng-options='option.codigo as option.descripcion for option in fEmbargos'>
											</select>
										</div>									
									</div>
								</div>
								
								<div class="col-md-4">
									<div class="form-group" ng-class="{'has-error': form2.valor.$invalid && form2.valor.$dirty}">
										<div class="input-group">
											<span class="input-group-addon">
												<i class="fa fa-pencil" aria-hidden="true"></i>
											</span>
											<input type="text" id="valor" name="valor" ng-model="parametroBusqueda.valor" class="form-control" ng-required="true"></input>
											<span class="input-group-btn">
												<button type="button" class="btn btn-danger btn-flat" ng-click="consultaEmbargos()">Buscar</button>
											</span>
										</div>
										<div ng-if="form2.valor.$invalid && form2.valor.$dirty" ng-style="{color:'red'}">El valor es requerido</div>
									</div>
								</div>
								
								<div class="col-md-12 text-center">
									<button type="button" class="btn btn-danger" ng-click="cerrarBuscarEmbargo()">Cerrar Consulta</button>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			
			<div class="row" ng-if="getData.listEmbargos.length > 0">
				<div class="col-md-12">
					<div class="box box-danger">
						<div class="box-header with-border">
							<h3 class="box-title">Registros Encontrados: {{getData.listEmbargos.length}}</h3>
						</div>
						<div class="box-body table-responsive no-padding">
							<table id="tabla_embargos" class="table table-hover">
								<thead>
									<tr>
										<th>FOLIO</th>
										<th>FECHA INFRACCIÓN</th>
										<th>PAGO</th>
										<th>FECHA INGRESO</th>
										<th>FECHA SALIDA</th>
										<th>DÉPOSITO</th>
									</tr>
								</thead>
								<tbody>
									<tr dir-paginate="embargo in getData.listEmbargos | itemsPerPage: 5">
										<td class="center">{{embargo.folio}}</td>
										<td class="center">{{embargo.fechaInfraccion | limitTo:19}}</td>
										<td class="center">{{embargo.pago}}</td>
										<td class="center">{{embargo.fechaIngreso | limitTo:19}}</td>
										<td class="center">{{embargo.fechaSalida | limitTo:19}}</td>
										<td class="center">{{embargo.deposito}}</td>
									</tr>
								</tbody>
							</table>
							<dir-pagination-controls></dir-pagination-controls>
						</div>
					</div>
				</div>
			</div>
		</form>
	</section>
	
	<script type="text/javascript">
		$(function() {
		    $('body').on('focus',".mydatepicker", function(){
		    	$(this).datepicker({             
				format: 'dd/mm/yyyy',
				todayHighlight : true,
				autoclose : true});
			});
 		});
    </script> 
<body>
</html>
