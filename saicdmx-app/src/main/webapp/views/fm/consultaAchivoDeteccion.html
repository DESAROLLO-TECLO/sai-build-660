<html>
	<head>
		<meta charset="utf-8">
		<title>Consulta Archivo Origen</title>
	</head>
	
	<body>
		<section class="content-header">
			<h1>Consulta Archivo Origen</h1>
			<ol class="breadcrumb">
				<li><a><i class="fa fa-book"></i> Dispositivos Fijos</a></li>
				<li class="active">Consulta Archivo Origen</li>
			</ol>
		</section>

		<!-- Main content -->
		<section class="content">
			<div class="row" ng-if="mostrarTabla">
				<div class="col-md-12">
					<div class="box box-danger">
						<div class="box-header ">
							<div class="col-md-6 col-xs-12">
								<h3 class="box-title">Registros Encontrados: {{ (deteccionVO 
								| filter:view.deteccion).length }}</h3>
							</div>
	
							<div class="col-md-offset-2 col-md-3 col-xs-10">
								<div class="input-group pull-right">
									<input id="searchsomething" type="text" class="form-control"
										placeholder="Buscar por filtro" ng-model="view.deteccion">
									<div class="input-group-addon">
										<i class="fa fa-search"></i>
									</div>
								</div>
							</div>
							
	 						<div ng-show="deteccionVO.length > 0" class="col-md-1"  align="right" >
	 						<label>{{deteccion.id_archivo}}</label>
					     				<a ng-click="downloadReporte(deteccion.id_archivo)">
											<span class="pull-right "><img src="static/dist/img/excel.png"></span> 
										</a> 
				     			</div> 
	
						</div>
						
						
						<!-- /.box-header -->
						<div class="box-body table-responsive"  style="overflow:auto">
							<table id="tabla_deteccion" style="width:3000px;"
								class="table table-striped table-hover header-fixed">
								<thead>
									<tr>
										<th width="90px" sort order="'cd_tdskuid'" by="order" reverse="reverse"
										class="text-center">FOLIO</th>
											
										<th width="90px" sort order="'st_cancelado'" by="order" reverse="reverse"
										class="text-center">CANCELADO</th>
										
										<th  width="90px" sort order="'st_procesado'" by="order" reverse="reverse"
										class="text-center">PROCESADO</th>
										
										<th width="90px" sort order="'st_liberado'" by="order"
										reverse="reverse" class="text-center">LIBERADO</th>
										
										<th  width="90px" sort order="'cd_placa'" by="order"
										reverse="reverse" class="text-center">PLACA</th>	
										
										<th width="90px" sort order="'nb_marca'" by="order"
										reverse="reverse" class="text-center">MARCA</th>	
										
										<th width="90px" sort order="'nb_submar'" by="order"
										reverse="reverse" class="text-center">SUBMARCA</th>	
										
										<th width="90px" sort order="'nb_modelo'" by="order"
										reverse="reverse" class="text-center">MODELO</th>
										
										<th width="90px" sort order="'cd_fechahora'" by="order"
										reverse="reverse" class="text-center">FECHA</th>	
										
										<th width="90px" sort order="'id_tipo_deteccion'" by="order"
										reverse="reverse" class="text-center">TIPO DE DETECCIÓN</th>
												
										<th width="90px" sort order="'cd_ut'" by="order"
										reverse="reverse" class="text-center">UT UBICACION</th>
													
										<th width="90px"  sort order="'nb_ut_calle'" by="order"
										reverse="reverse" class="text-center">UT CALLE</th>
										
										<th width="90px" sort order="'nb_ut_entrecalle'" by="order"
										reverse="reverse" class="text-center">UT ENTRE CALLE</th>
										
										<th width="90px" sort order="'cd_ut_sec_cod'" by="order"
										reverse="reverse" class="text-center">UT CÓDIGO DE SECTOR</th>
																
										<th width="90px"  sort order="'id_ut_delegacion'" by="order"
										reverse="reverse" class="text-center">UT DELEGACIÓN</th>
										
										<th width="90px" sort order="'cd_ut_codigo'" by="order"
										reverse="reverse" class="text-center">UT CÓDIGO POSTAL</th>
										
										<th width="90px" sort order="'nb_ut_colonia'" by="order"
										reverse="reverse" class="text-center">UT COLONIA</th>
													
									  	<th width="90px" sort order="'tx_ut_sentido'" by="order"
										reverse="reverse" class="text-center">UT SENTIDO</th>
										
										<th width="90px" sort order="'nu_velocidaddetectada'" by="order"
										reverse="reverse" class="text-center">VELOCIDAD DETECTADA</th>
										
										<th width="90px"  sort order="'nu_puntosdescnt'" by="order"
										reverse="reverse" class="text-center">PUNTOS A DESCONTAR</th>
											
										<th width="90px" sort order="'cd_oficialplaca'" by="order"
										reverse="reverse" class="text-center">PLACA OFICIAL</th>
											
										<th width="90px" sort order="'id_origenplaca'" by="order"
										reverse="reverse" class="text-center">ORIGEN DE PLACA</th>
													
										<th width="90px" sort order="'fh_vig_licencia'" by="order"
										reverse="reverse" class="text-center">VIGENCIA LICENCIA</th>
										
										<th width="90px" sort order="'nu_licencia'" by="order"
										reverse="reverse" class="text-center">LICENCIA</th>
											
										<th width="90px" sort order="'nu_vin'" by="order"
										reverse="reverse" class="text-center">VIN</th>
										
										<th width="90px" sort order="'st_aceptada_ssp'" by="order"
										reverse="reverse" class="text-center">ACEPTADA POR SSP</th>
											
										<th width="90px" sort order="'cd_serie_dispositivo'" by="order"
										reverse="reverse" class="text-center">RADAR NO.SERIE</th>
											
										<th width="90px" sort order="'nb_nombre'" by="order"
										reverse="reverse" class="text-center">NOMBRE</th>	
										
										<th width="90px" sort order="'nb_apellidopat'" by="order"
										reverse="reverse" class="text-center">APELLIDO PATERNO</th>	
	
										<th width="90px" sort order="'nb_apellidomat'" by="order"
										reverse="reverse" class="text-center">APELLIDO MATERNO</th>	
										
										<th width="90px" sort order="'nb_colonia'" by="order"
										reverse="reverse" class="text-center">COLONIA</th>	
												
										<th  width="90px" sort order="'nu_cp'" by="order"
										reverse="reverse" class="text-center">CP</th>	
											
										<th  width="90px" sort order="'id_tipo_persona'" by="order"
										reverse="reverse" class="text-center">TIPO DE PERSONA</th>	
											
										<th width="90px" sort order="'tx_observaciones'" by="order"
										reverse="reverse" class="text-center">OBSERVACIONES</th>
									</tr>
								</thead>
								<tbody>
									<tr ng-if="(deteccionVO | filter:view.deteccion).length < 1">
										<td colspan="8" class="text-center">
											<h4>No se encontraron coincidencias</h4>
										</td>
									</tr>
									<tr dir-paginate="deteccion in deteccionVO | orderBy:order:reverse |filter:view.deteccion |  itemsPerPage: view.rowsPerPage">
										<td width="90px"  class="text-center">{{deteccion.cd_tdskuid}}</td>
										<td width="90px" class="text-center">{{deteccion.st_cancelado}}</td>
										<td width="90px" class="text-center">{{deteccion.st_procesado}}</td>
										
										<td width="90px" class="text-center">{{deteccion.st_liberado}}</td>
										<td width="90px"  class="text-center">{{deteccion.cd_placa}}</td>
										<td width="90px" class="text-center">{{deteccion.nb_marca}}</td>
										<td width="90px" class="text-center">{{deteccion.nb_submar}}</td>
										<td width="90px" class="text-center">{{deteccion.nb_modelo}}</td>
										
										<td width="90px" class="text-center">{{deteccion.cd_fechahora | date : 'dd/MM/yyyy'}}</td>
										<td width="90px" class="text-center">{{deteccion.id_tipo_deteccion}}</td>
										<td width="90px" class="text-center">{{deteccion.cd_ut}}</td>
										<td width="90px" class="text-center">{{deteccion.nb_ut_calle}}</td>
										<td width="90px" class="text-center">{{deteccion.nb_ut_entrecalle}}</td>
										<td width="90px" class="text-center">{{deteccion.cd_ut_sec_cod}}</td>
										
										<td width="90px" class="text-center">{{deteccion.id_ut_delegacion}}</td>
										<td width="90px"  class="text-center">{{deteccion.cd_ut_codigo}}</td>
										<td width="90px" class="text-center">{{deteccion.nb_ut_colonia}}</td>
										<td width="90px" class="text-center">{{deteccion.tx_ut_sentido}}</td>
										<td width="90px" class="text-center">{{deteccion.nu_velocidaddetectada}}</td>
										
										<td width="90px" class="text-center">{{deteccion.nu_puntosdescnt}}</td>
										<td width="90px" class="text-center">{{deteccion.cd_oficialplaca}}</td>
										<td width="90px" class="text-center">{{deteccion.id_origenplaca}}</td>
										<td width="90px" class="text-center">{{deteccion.fh_vig_licencia}}</td>
										<td width="90px" class="text-center">{{deteccion.nu_licencia}}</td>
										<td width="90px" class="text-center">{{deteccion.nu_vin}}</td>
										
										<td width="90px" class="text-center">{{deteccion.st_aceptada_ssp}}</td>
										
										<td width="90px" class="text-center">{{deteccion.cd_serie_dispositivo}}</td>
										<td width="90px" class="text-center">{{deteccion.nb_nombre}}</td>
										<td width="90px" class="text-center">{{deteccion.nb_apellidopat}}</td>
	
										<td width="90px" class="text-center">{{deteccion.nb_apellidomat}}</td>
										<td width="90px" class="text-center">{{deteccion.nb_colonia}}</td>
										<td width="90px"  class="text-center">{{deteccion.nu_cp}}</td>
										<td width="90px" class="text-center">{{deteccion.id_tipo_persona}}</td>
										<td width="90px" class="text-center">{{deteccion.tx_observaciones}}</td>
									</tr>
								</tbody>
							</table>
						</div>
	
						<div class="container-fluid">
							<div class="fixed-table-pagination" style="display: block;">
								<rows-per-page rows="view.rowsPerPage" filtro="view.deteccion"
									array="deteccionVO"></rows-per-page>
								<div class="pull-right pagination">
									<dir-pagination-controls class="pagination"></dir-pagination-controls>
								</div>
							</div>
						</div>
	                 	<section class="col-lg-12 connectedSortable">
			
							<div class="box-body">
								<div class="row itemsBox">
							
									<button ng-click="regresarBusq()" class="btn btn-danger">
										<i class="fa fa-arrow-circle-left"></i>
										<span>Regresar</span>
									</button>
								
								</div>
							</div>
						</section>
					</div>
				</div>
			</div>
		</section>
		
		<span ng-if="deteccionVO.length <1">
			<td colspan="8" class="text-center">
				<h4>No se encontraron coincidencias</h4>
			</td>
		</span>
		<section class="col-lg-12 connectedSortable">
		</section>
		
		<script type="text/javascript" ng-if="viewFilters">
			$(function () {
			    $("#fInicio").datepicker({             
					format: 'dd/mm/yyyy',
					//language: 'es',
					todayHighlight : true,
					autoclose : true
				}).on('changeDate', function (selected) {
		        	var minDate = new Date(selected.date.valueOf());
		        	$('#fFin').datepicker('setStartDate', minDate);
		    	});
				
				$("#fFin").datepicker({             
					format: 'dd/mm/yyyy',
					//language: 'es',
					todayHighlight : true,
					autoclose : true
				}).on('changeDate', function (selected) {
		        	var maxDate = new Date(selected.date.valueOf());
		        	$('#fInicio').datepicker('setEndDate', maxDate);
		    	});
			});
	    </script> 
	<body>
</html>